<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free / Játék | Crackelt játékok</title>
  
    <link rel="stylesheet" href="./stilus/style.css">
	<link rel="icon" type="image/x-icon" href="./kepek/favicon.png">
   
</head>
<body>
 

            <header>

            <nav class="navbar" id="fent">
                <div id="logo">Free<mark>Jatek</mark></div>
                <a href="#" class="toggle-button" onclick="menu()">
                  <span class="bar"></span>
                  <span class="bar"></span>
                  <span class="bar"></span>
                </a>
                <div id="navbar-links">
                  <ul>
                    <li><a href="fooldal.html" class="piros" onClick="document.getElementById('legor').scrollIntoView(); btn()" target="iframe">Főoldal</a></li>
                    <li><a  href="./kategoriak/nepszeru.html"  onClick="document.getElementById('legor').scrollIntoView(); btn()" target="iframe">Játékok</a></li>
                    <li><a href="kapcsolat.html" onClick="document.getElementById('legor').scrollIntoView(); btn()" target="iframe">Kapcsolat</a></li>
                    <li><a  href="forrasok.html"  onClick="document.getElementById('legor').scrollIntoView(); btn()" target="iframe">Források</a></li>
                    <li><a href="adatvedelem.html"  onClick="document.getElementById('legor').scrollIntoView(); btn()" target="iframe">Adatvédelem</a></li>
                  </ul>
                </div>
              </nav>
            <div id="szoveg">
              <div id="igen">
            <h1>Üdvözöllek a <br><div class="piros">honlapunkon!</div></h1>
          </div>
            <p>
            <a id="szovegg" href="" class="typewrite" data-period="2000" data-type='[ "Töltsd le és próbáld ki!", "Játékok, ingyen, magyarítással", "Fizetős játékok ingyen", "Crackelt játékok" ]'>
                <span class="wrap"></span>
              </a></p>
            <input type="text" name="ide" value="" id="search-input" placeHolder="Játék teljes neve:">
            <button id="gomb" onClick="search(), go()"><img src="./kepek/keresopiros.png" height="15px" width="auto"></button>
            <button  id="gorget" title="Lefele" onClick="gorg()"><img src="./kepek/lenyilpiros.png" id="gorgokep" height="15px" width="auto"></button>
        </div>
        </header>
        <div id="legor"> </div>
        <iframe id="iframe" src="fooldal.html" frameborder="0" scrolling="no" name="iframe"></iframe>
        
        <footer>
          <h1>Most már van itt valami:</h1>
          <p>valami </p>
        </footer>

      
  
          <script>

            function search() {
              var input = document.getElementById("search-input").value.toLowerCase();
              var list = ["crossout", "cyberpunk 2077", "farming simulator 22","grand theft auto san andreas", "forza horizon 5", "fifa 23", "dying light 2", "elden ring", "hogwarts legacy", "metro exodus", "mortal kombat 11", "need for speed unbound", "portal 2", "rage 2", "red dead redemption 2", "resident evil 2", "slime rancher 2", "spiderman", "stray", "warface", "watch dogs 2"]; 
              var found = false;
              for (var i = 0; i < list.length; i++) {
                if (list[i] === input) {
                  found = true;
                  var iframe = document.getElementById("iframe");
                  iframe.src = './kategoriak/jatekok/'+input + '.html';
                  break;
                }
              }
              if (!found) {
                var iframe = document.getElementById("iframe");
                iframe.src = 'nincstalalat.html';
              }
            }
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
              var TxtType = function(el, toRotate, period) {
              this.toRotate = toRotate;
              this.el = el;
              this.loopNum = 0;
              this.period = parseInt(period, 10) || 2000;
              this.txt = '';
              this.tick();
              this.isDeleting = false;
          };
          
          TxtType.prototype.tick = function() {
              var i = this.loopNum % this.toRotate.length;
              var fullTxt = this.toRotate[i];
          
              if (this.isDeleting) {
              this.txt = fullTxt.substring(0, this.txt.length - 1);
              } else {
              this.txt = fullTxt.substring(0, this.txt.length + 1);
              }
          
              this.el.innerHTML = '<span class="wrap">'+this.txt+'</span>';
          
              var that = this;
              var delta = 200 - Math.random() * 100;
          
              if (this.isDeleting) { delta /= 2; }
          
              if (!this.isDeleting && this.txt === fullTxt) {
              delta = this.period;
              this.isDeleting = true;
              } else if (this.isDeleting && this.txt === '') {
              this.isDeleting = false;
              this.loopNum++;
              delta = 500;
              }
          
              setTimeout(function() {
              that.tick();
              }, delta);
          };
          
          window.onload = function() {
              var elements = document.getElementsByClassName('typewrite');
              for (var i=0; i<elements.length; i++) {
                  var toRotate = elements[i].getAttribute('data-type');
                  var period = elements[i].getAttribute('data-period');
                  if (toRotate) {
                    new TxtType(elements[i], JSON.parse(toRotate), period);
                  }
              }
              // INJECT CSS
              var css = document.createElement("style");
              css.type = "text/css";
              css.innerHTML = ".typewrite > .wrap { border-right: 0.08em solid #fff}";
              document.body.appendChild(css);
          };
          
          var gorgokep = ['./kepek/felnyilpiros.png', './kepek/lenyilpiros.png'];
          i = 0;
          o = 1;
          
          
          
          function menu(){
            var x = document.getElementById("navbar-links");
            if (x.style.display === "none") {
              x.style.display = "block";
              document.getElementById("navbar-links").style.marginTop = "20px";
            } else {
              x.style.display = "none";
            }
            
          }

          function go(){
              document.getElementById('legor').scrollIntoView();
          
              
          }
          let notVisibleCount = 0;
          
          const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
              if (!entry.isIntersecting && entry.target.id === "fent") {
                notVisibleCount = 1;
                document.getElementById("gorget").style.display = "block";
                if (notVisibleCount > 0){
                  document.getElementById("gorgokep").src = gorgokep[i];
          
                }
          
              }
            });
          }, { threshold: 0 });
          
          const fentElement = document.getElementById("fent");
          observer.observe(fentElement);
          function gorg(){
              if(notVisibleCount >= 1){
                  document.getElementById('fent').scrollIntoView();
                  document.getElementById("gorgokep").src = gorgokep[o];
          
              }
              if(notVisibleCount < 1){
                  document.getElementById('legor').scrollIntoView();
              
              }
          
          
          }
          var cycle = 0;
          var isTransitioning = false;
          var allBackgrounds = [
            "./kepek/bg1.jpg",
            "./kepek/bg2.jpg",
            "./kepek/bg3.jpg",
            "./kepek/bg4.jpg",
            "./kepek/bg5.jpg",
            "./kepek/bg6.jpg",
            "./kepek/bg7.jpg",
            "./kepek/bg8.jpg",
            "./kepek/bg9.jpg",
            "./kepek/bg1.jpg"
          ];
          
          function changeBackground() {
            if (!isTransitioning) {
              isTransitioning = true;
              var img = new Image();
              img.onload = function() {
                document.body.style.setProperty('background-image', 'url(' + img.src + ')');
                cycle = (cycle + 1) % allBackgrounds.length;
                isTransitioning = false;
                setTimeout(changeBackground, 5000); // 5 másodperces késleltetés
              };
              img.onerror = function() {
                cycle = (cycle + 1) % allBackgrounds.length;
                isTransitioning = false;
                setTimeout(changeBackground, 5000); // 5 másodperces késleltetés
              };
              img.src = allBackgrounds[cycle];
            }
          }
          
          changeBackground();

          const menuItems = document.querySelectorAll('nav ul li a');
          
          menuItems.forEach(item => {
            item.addEventListener('click', function() {
              // eltávolítjuk az "active" osztályt az összes menüpontról
              menuItems.forEach(item => {
                item.classList.remove('piros');
              });
          
              // hozzáadjuk az "active" osztályt az aktuális menüponthoz
              this.classList.add('piros');
            });
          });
                  </script>
</body>
</html>
